{
    "$schema" : "https://json-schema.org/draft/2020-12/schema#",
    "$id" : "https://sabjohnso.github.io/2024/schema/lbm-schema.json",
    "type" : "object",
    "properties" : {
        "kernel" : {"$ref" : "#/$defs/Kernel"},
        "floatType" : {"$ref" : "#/$defs/FloatingPointType"},
        "timeScale" : {"$ref" : "#/$defs/PositiveNumber"},
        "numSteps" : {"$ref" : "#/$defs/NaturalNumber"},
        "input" : {"$ref" : "#/$defs/Input"}
    },
 "required" : ["kernel", "floatType", "timeScale", "numSteps", "input"],
    "additionalProperties" : false,
    "$defs" : {
        "FloatingPointType" : {
            "enum" : ["float32", "float64"]
        },
        "Kernel" : {
            "enum" : ["D2Q9"]
        },
        "Input" : {
            "type" : "object",
            "properties" : {
                "lattice" : {"$ref" : "#/$defs/Lattice"},
                "boundaryConditions" : {"$ref" : "#/$defs/BoundaryConditions"},
                "initialConditions" : {"$ref" : "#/$defs/InitialConditions"},
                "obstacles" : {"$ref" : "#/$defs/Obstacles"}
                ,
                "viscosity" : {"type" : "number"}
            }
        },
        "Lattice" : {},
        "BoundaryConditions" : {
            "type" : "array",
            "items" : {"$ref" : "#/$defs/BoundaryCondition"}
        },
        "BoundaryCondition" : {},
        "InitialConditions" : {
            "type" : "object",
            "properties" : {
                "density" : {"$ref" : "#/$defs/InitialDensity"},
                "velocity" : {"$ref" : "#/$defs/InitialVelocity"}
            },
            "required" : ["density", "velocity"],
            "additionalProperties" : false
        },
        "InitialDensity" : {"$ref" : "#/$defs/Expression"},
        "InitialVelocity" : {
            "type" : "array",
            "items" : {"$ref" : "#/$defs/Expression"},
            "minItems" : 2,
            "maxItems" : 2
        },
        "Obstacles" : {
            "type" : "array",
            "items" : {"$ref" : "#/$defs/Expression"}
        },
        "NaturalNumber" : {
            "type" : "integer",
            "minimum" : 0
        },
        "PositiveNumber" : {
            "type" : "number",
            "exclusiveMinimum" : 0
        },
        "Expression" : {
        }
    }
}
